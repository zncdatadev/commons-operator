apiVersion: authentication.zncdata.dev/v1alpha1
kind: AuthenticationClass
metadata:
  name: authenticationclass
spec:
  provider:
    oidc:
      hostname: keycloak.example.com
      port: 8080
      rootPath: /auth
      providerHint: keycloak
      scopes:
      - openid
      - email
      - profile
      principalClaim: preferred_username
      tls:
        verification:
          none: {}
          server:
            caCert:
              secretClass: tls
              webPIK: ca.crt
    tls:
      secretClass: tls
    static:
      credential: static-credentials
    ldap:
      hostname: ldap.example.com
      port: 389
      credential:
        secretClass: ldap-credentials
      ldapFieldNames:
        surname: cn
        givenName: cn
        group: cn
        email: mail
        uid: cn
      searchBase: ou=people,dc=example,dc=com
      searchFilter: \(uid={username}\)
      tls:
        verification:
          none: {}
          server:
            caCert:
              secretClass: tls
              webPIK: ca.crt
